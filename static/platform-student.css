@import url('platform-general.css');
.progress-card-detailed { background: var(--bg-surface); border-radius: var(--border-radius-main); padding: 25px 30px; border: 1px solid var(--border-color); }
.progress-card-detailed .progress-info { display: flex; justify-content: space-between; align-items: baseline; margin-bottom: 15px; }
.progress-card-detailed h3 { font-size: 1.2rem; }
.progress-card-detailed .progress-percentage { font-size: 1.5rem; font-weight: 700; color: var(--success-color); }
.progress-bar-bg { height: 10px; background: var(--bg-dark); border-radius: 5px; overflow: hidden; }
.progress-bar-fill { height: 100%; background: var(--success-color); border-radius: 5px; transition: width .5s ease; }
.dashboard-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 30px; margin-top: 30px; }
.dashboard-card { background: var(--bg-surface); border: 1px solid var(--border-color); border-radius: var(--border-radius-main); padding: 25px; transition: all var(--transition-fast); text-decoration: none; display: flex; flex-direction: column; }
.dashboard-card:hover { transform: translateY(-8px); border-color: var(--primary-orange); box-shadow: var(--shadow-main); }
.dashboard-card .card-icon { font-size: 2rem; color: var(--primary-orange); margin-bottom: 15px; }
.dashboard-card h3 { margin-bottom: 10px; }
.dashboard-card p { color: var(--text-medium); margin-bottom: 20px; flex-grow: 1; }
.dashboard-card .btn { margin-top: auto; }
.course-wrapper { display: flex; gap: 30px; align-items: flex-start; }
.lessons-sidebar { position: sticky; top: 110px; width: 320px; flex-shrink: 0; background: var(--bg-surface); border-radius: var(--border-radius-main); padding: 20px; border: 1px solid var(--border-color); }
.lessons-sidebar-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; padding: 0 10px; }
.lessons-toggle-btn { display: none; background: none; border: none; color: var(--text-light); font-size: 1.2rem; cursor: pointer; }
.lessons-toggle-btn i { transition: transform var(--transition-fast); }
.lessons-toggle-btn i.rotated { transform: rotate(180deg); }
.lessons-list { display: flex; flex-direction: column; gap: 5px; }
.lesson-item { display: flex; align-items: center; gap: 15px; padding: 15px; border-radius: var(--border-radius-small); transition: all var(--transition-fast); text-decoration: none; }
.lesson-item:hover { background: var(--bg-surface-light); }
.lesson-item.active { background: var(--primary-orange); color: var(--text-light) !important; }
.lesson-item.active .lesson-status, .lesson-item.active .lesson-item-info p { color: var(--text-light); }
.lesson-status { font-size: 1.2rem; color: var(--success-color); }
.lesson-item .fa-circle { color: var(--text-medium); }
.lesson-item-info h5 { margin: 0; font-size: 1rem; }
.lesson-item-info p { font-size: 0.9rem; color: var(--text-medium); margin: 0; }
.lesson-content { flex-grow: 1; }
.lesson-card { background: var(--bg-surface); border: 1px solid var(--border-color); border-radius: var(--border-radius-main); padding: 30px; margin-bottom: 30px; }
.video-player { width: 100%; aspect-ratio: 16 / 9; background: var(--bg-dark); border-radius: var(--border-radius-main); margin-bottom: 20px; display: flex; align-items: center; justify-content: center; font-size: 4rem; color: var(--primary-orange); cursor: pointer; }
.task-header { display: flex; align-items: center; gap: 15px; font-size: 1.2rem; margin-bottom: 15px; }
.task-header i { color: var(--primary-orange); }
.task-submission { border-top: 1px solid var(--border-color); margin-top: 20px; padding-top: 20px; }
.file-upload-area { border: 2px dashed var(--border-color); border-radius: var(--border-radius-main); padding: 40px 20px; text-align: center; cursor: pointer; transition: all var(--transition-fast); margin-bottom: 20px; }
.file-upload-area:hover, .file-upload-area.dragover { border-color: var(--primary-orange); background: var(--bg-main); }
.file-upload-area i { font-size: 2rem; color: var(--primary-orange); margin-bottom: 10px; }
.chat-container { display: flex; flex-direction: column; height: calc(100vh - var(--header-height) - 80px); background: var(--bg-surface); border-radius: var(--border-radius-main); border: 1px solid var(--border-color); overflow: hidden; }
.chat-messages { flex-grow: 1; padding: 30px; overflow-y: auto; display: flex; flex-direction: column; gap: 20px; }
.message { display: flex; align-items: flex-end; gap: 10px; max-width: 70%; }
.message-avatar { width: 40px; height: 40px; border-radius: 50%; object-fit: cover; border: 2px solid var(--border-color); }
.message-bubble { padding: 12px 18px; border-radius: var(--border-radius-main); }
.message-bubble p { margin: 0; }
.message.received { align-self: flex-start; }
.message.received .message-bubble { background: var(--bg-surface-light); border-bottom-left-radius: 4px; }
.message.sent { align-self: flex-end; flex-direction: row-reverse; }
.message.sent .message-bubble { background: var(--primary-orange); border-bottom-right-radius: 4px; }
.message-time { font-size: 0.75rem; color: var(--text-medium); margin-top: 5px; text-align: right; }
.message.sent .message-time { color: rgba(255,255,255,0.7); }
.message-attachment img { border-radius: var(--border-radius-small); margin-top: 10px; cursor: pointer; }
.chat-input-area { padding: 20px; border-top: 1px solid var(--border-color); background: var(--bg-dark); }
.chat-form { display: flex; align-items: center; gap: 15px; }
.chat-form .btn-icon { background: transparent; border: none; font-size: 1.4rem; color: var(--text-medium); transition: all var(--transition-fast); cursor: pointer; }
.chat-form .btn-icon:hover { color: var(--primary-orange); transform: scale(1.1); }
.chat-form textarea { flex-grow: 1; background: var(--bg-surface); border: 1px solid var(--border-color); border-radius: 24px; padding: 12px 20px; color: var(--text-light); resize: none; min-height: 48px; max-height: 150px; }
.form-container, .profile-grid { display: grid; gap: 30px; }
.profile-grid { grid-template-columns: 350px 1fr; }
.eligibility-card { display: flex; flex-direction: column; align-items: center; text-align: center; padding: 30px; border-radius: var(--border-radius-main); }
.eligibility-card.success { background: rgba(40, 167, 69, 0.1); border: 1px solid var(--success-color); box-shadow: 0 0 20px var(--success-glow); }
.eligibility-card.success h4 { color: var(--success-color); }
.eligibility-card h4 { display: flex; align-items: center; gap: 10px; font-size: 1.2rem; }
.form-body-separator { border-top: 1px solid var(--border-color); margin-top: 20px; padding-top: 20px; }
.profile-avatar-card { text-align: center; }
.avatar-upload { position: relative; width: 150px; height: 150px; margin: 20px auto; }
#avatar-preview { width: 100%; height: 100%; border-radius: 50%; border: 4px solid var(--primary-orange); object-fit: cover; box-shadow: 0 0 25px var(--accent-glow); }
.avatar-edit-overlay { position: absolute; bottom: 0; right: 5px; width: 40px; height: 40px; background: var(--bg-dark); border: 2px solid var(--primary-orange); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: var(--text-light); cursor: pointer; transition: background-color 0.2s; }
.avatar-edit-overlay:hover { background: var(--primary-orange); }
/* СТИЛИ ДЛЯ ПРЕДПРОСМОТРА ЗАГРУЖАЕМОГО ФАЙЛА */
.chat-input-area {
    position: relative; /* Необходимо для позиционирования превью */
}
#upload-preview-container {
    position: absolute;
    bottom: 100%; /* Показывается над полем ввода */
    left: 0;
    width: 100%;
    padding: 0 20px 10px;
    background-color: var(--bg-dark);
    /* Плавное появление */
    transform: translateY(10px);
    opacity: 0;
    transition: all 0.3s ease;
    pointer-events: none;
}
#upload-preview-container.visible {
    transform: translateY(0);
    opacity: 1;
    pointer-events: all;
}
.upload-preview {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 8px;
    background: var(--bg-surface);
    border-radius: var(--border-radius-small);
    border: 1px solid var(--border-color);
}
.upload-preview-image {
    width: 40px;
    height: 40px;
    object-fit: cover;
    border-radius: 4px;
}
.upload-preview-info {
    flex-grow: 1;
    font-size: 0.9rem;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}
.upload-preview-remove {
    background: none;
    border: none;
    color: var(--text-medium);
    font-size: 1.2rem;
    cursor: pointer;
    padding: 5px;
}
    .image-modal {
        display: none; /* Окно скрыто по умолчанию */
        position: fixed; /* Позиционирование относительно всего окна браузера */
        z-index: 1010; /* Должно быть поверх всего остального контента */
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0,0,0,0.9); /* Черный полупрозрачный фон */
        align-items: center; /* Центрирование по вертикали */
        justify-content: center; /* Центрирование по горизонтали */
        opacity: 0; /* Начальная прозрачность для плавного появления */
        transition: opacity 0.3s ease;
    }
    /* Этот класс добавляет JavaScript, чтобы показать окно */
    .image-modal.is-open {
        display: flex;
        opacity: 1;
    }
    .modal-content {
        margin: auto;
        display: block;
        max-width: 80%;
        max-height: 80%;
        transform: scale(0.8);
        transition: transform 0.3s ease;
    }
    .image-modal.is-open .modal-content {
        transform: scale(1);
    }
    .modal-close-btn {
        position: absolute;
        top: 15px;
        right: 35px;
        color: #f1f1f1;
        font-size: 40px;
        font-weight: bold;
        transition: 0.3s;
        cursor: pointer;
    }
    .modal-close-btn:hover,
    .modal-close-btn:focus {
        color: #bbb;
        text-decoration: none;
    }